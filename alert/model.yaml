---
# Copyright (c) 2020 Contributors to Smart-Data-Models
# see https://github.com/smart-data-models/dataModel.Alert
alert:
  required:
    - id
  allOf:
    - $ref: >-
        https://smart-data-models.github.io/data-models/ngsi-ld.yaml#/Common
    - $ref: >-
        https://smart-data-models.github.io/dataModel.Alert/alert-model.yaml#/AlertCommons
  type: object
  description: |
      This entity models an alert and could be used to send alerts related to traffic
      jam, accidents, weather conditions, high level of pollutants and so on. The
      purpose of the model is to support the generation of notifications for a user or
      trigger other actions, based on such alerts.

      An alert is generated by a specific situation. The main features of an alert is
      that it is not predictable and it is not a recurrent data. That means that an
      alert could be an accident or a high level of pollutants measure, additionally
      it could be the fall down of a patient or a car driving in the opposite
      direction.

      Some examples of context data are: type of alert (traffic, weather, security,
      and pollution, etc.), severity, location and so on
  properties: 
    subCategory: 
      type: string
      anyOf:
        - $ref: 'https://smart-data-models.github.io/dataModel.Alert/alert/model.yaml#/NaturalDisasterAlertCategories'
        - $ref: 'https://smart-data-models.github.io/dataModel.Alert/alert/model.yaml#/HealthAlertCategories'
        - $ref: 'https://smart-data-models.github.io/dataModel.Alert/alert/model.yaml#/SecurityAlertCategories'
        - $ref: 'https://smart-data-models.github.io/dataModel.Alert/alert/model.yaml#/TrafficAlertCategories'
        - $ref: 'https://smart-data-models.github.io/dataModel.Alert/alert/model.yaml#/EnvironmentAlertCategories'
        - $ref: 'https://smart-data-models.github.io/dataModel.Alert/alert/model.yaml#/AgriculturalAlertCategories'
        - $ref: 'https://smart-data-models.github.io/dataModel.Weather/weather-model.yaml#/WeatherAlertCategories'
      description: ''  
        
TrafficAlertCategories:
  type: string
  enum:
    - trafficJam
    - carAccident
    - carWrongDirection
    - carStopped
    - pothole
    - roadClosed
    - roadWorks
    - hazardOnRoad
    - injuredBiker
NaturalDisasterAlertCategories:
  type: string
  enum:           
    - fireRisk
    - avalancheRisk
    - floodRisk
EnvironmentAlertCategories:
  type: string
  enum:
    - airPollution
    - waterPollution
    - pollenConcentration
HealthAlertCategories:
  type: string
  enum:
    - asthmaAttack
    - bumpedPatient
    - fallenPatient
    - heartAttack
SecurityAlertCategories:
  type: string
  enum:
    - suspiciousAction
    - robbery
    - assault
    - civilDisorder
    - buildingFire
    - forestFire
AgriculturalAlertCategories:
  type: string
  enum:
    - noxiousWeed
    - snail
    - insect
    - rodent
    - bacteria
    - microbe
    - fungus
    - mite
    - virus
    - nematodes
    - irrigation
    - fertilisation
